# BSP: M5Stack Core

> [!WARNING]
> The SD card is not working simultaneously with the LCD screen. We are working on a fix.

[![Component Registry](https://components.espressif.com/components/espressif/m5stack_core/badge.svg)](https://components.espressif.com/components/espressif/m5stack_core)

* [Hardware Reference](https://docs.m5stack.com/en/core/basic_v2.7)

<img src="https://static-cdn.m5stack.com/resource/docs/products/core/basic_v2.7/basic_v2.7_01.webp" alt="basic" width="350" height="350">
<img src="https://static-cdn.m5stack.com/resource/docs/products/core/fire_v2.7/fire_v2.6_01.webp" alt="fire" width="350" height="350">

This BSP supports the following M5Stack Core v2.7 series devices:
- M5Stack Basic v2.7
- M5Stack Fire v2.7
- Other M5Stack Core v2.7 based devices

M5Stack Core is a development board based on ESP32 microcontroller. It features:

- **MCU**: ESP32 dual-core XtensaÂ® 32-bit LX6 microprocessor, up to 240MHz
- **Memory**: 4MB Flash + 520KB SRAM
- **Interface**: USB Type-C for programming and debugging
- **Display**: 2.0" TFT LCD screen (320x240 resolution) with ILI9341 controller
- **Power Management**: IP5306 power management chip for battery charging and power control
- **Audio**: Single GPIO controlled speaker
- **Storage**: microSD card slot (SPI interface)
- **Input**: Three physical buttons (ButtonA, ButtonB, ButtonC)
- **Expansion**: Bottom expansion headers for additional modules

<!-- Autogenerated start: Dependencies -->
### Capabilities and dependencies
|  Capability |     Available    |                                                  Component                                       |Version|
|-------------|------------------|--------------------------------------------------------------------------------------------------|-------|
|   DISPLAY   |:heavy_check_mark:|[espressif/esp_lcd_ili9341](https://components.espressif.com/components/espressif/esp_lcd_ili9341)|   ^1  |
|  LVGL_PORT  |:heavy_check_mark:|  [espressif/esp_lvgl_port](https://components.espressif.com/components/espressif/esp_lvgl_port)  |   ^2  |
|    TOUCH    |        :x:       |                                                                                                  |       |
|   BUTTONS   |:heavy_check_mark:|         [espressif/button](https://components.espressif.com/components/espressif/button)         |  ^2.4 |
|    AUDIO    |        :x:       |                                                                                                  | >=5.0 |
|AUDIO_SPEAKER|        :x:       |                                                                                                  | >=5.0 |
|  AUDIO_MIC  |        :x:       |                                                                                                  |       |
|    SDCARD   |:heavy_check_mark:|                                                                                                  | >=5.0 |
|     IMU     |        :x:       |                                                                                                  |       |
<!-- Autogenerated end: Dependencies -->

## Power Management

The board uses IP5306 for power management, which provides:
- Battery charging
- Battery level monitoring
- Power output control
